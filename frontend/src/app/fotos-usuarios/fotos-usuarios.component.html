<div class="mb-5 mt-5 pb-3 pt-3" style="background-color:#c2c8c9;">
    <h1 class="text-center">Experiencias de nuestros usuarios en el hotel</h1>
</div>
<div class="container ">

    <div *ngFor="let foto of fotos">
        <div class="col-md-4" style="float: left;">
            <div class="card mb-4 shadow-sm">
                <img class="bd-placeholder-img card-img-top changeCursor" width="100%" height="230"
                    [src]="config.RUTA_API+foto.path" alt="Foto1" (click)="openXl(content4, foto)">
            </div>
        </div>
        <ng-template #content4 let-modal>
            <div class="row justify-content-center mb-5 mt-5 pb-3 pt-3 align-items-center">
                <div class="col-5 ">
                    <img class="bd-placeholder-img card-img-top changeCursor cursor" width="100%"
                        [src]="config.RUTA_API+foto.path" alt="Foto1" (click)="open()">
                </div>
                <div class="col-6">
                    <div class="d-flex row align-self-center">
                        <div class="col align-self-center">
                            <div class="d-flex flex-column comment-section">
                                <div class="bg-white">
                                    <div class="d-flex flex-row user-info"><img class="rounded-circle"
                                            [src]="config.RUTA_API + userOwnerImage?.pathFoto" width="40">
                                        <div class="d-flex flex-column justify-content-start ml-2"><span
                                                class="d-block font-weight-bold name">{{userOwnerImage?.name}}</span><span
                                                class="date text-black-50">{{currentImage.ubicacion}}</span></div>
                                    </div>
                                    <div class="mt-2">
                                        <p class="comment-text">{{currentImage.descripcion}}</p>
                                    </div>
                                </div>
                                <div *ngIf="currentImage?.comments.length > 0"
                                    style="width:100%; height:400px; overflow: scroll;">
                                    <hr />
                                    <div>
                                        <ul>
                                            <div *ngFor="let comment of currentImage?.comments">
                                                <app-comentarios [comment]="comment"></app-comentarios>
                                            </div>
                                        </ul>
                                    </div>
                                </div>

                                <div class="bg-light p-2">
                                    <div class="d-flex flex-row align-items-start"><img class="rounded-circle"
                                        [src]="config.RUTA_API + user?.pathFoto" width="40">
                                        <div>
                                            <form [formGroup]="formulario">
                                                <textarea formControlName="comentario" cols="100%" rows="1"
                                                    class="form-control ml-1 shadow-none textarea"
                                                    placeholder="Aegraga un comentario."></textarea>
                                            </form>
                                        </div>
                                    </div>

                                    <div class="mt-2 text-right">
                                        <button type="button" class="btn btn-outline-primary btn-sm ml-1 shadow-none"
                                            (click)="like()" style="float: left;">
                                            <span *ngIf="!userLike">Like
                                            </span>
                                            <span *ngIf="userLike">
                                                Dislike
                                            </span>
                                            <span class="ml-1">{{ foto?.likes.length }}</span>
                                        </button>
                                        <button class="btn btn-primary btn-sm shadow-none" (click)="addComment() "
                                            type="button">Post
                                            comment</button>
                                        <button class="btn btn-outline-primary btn-sm ml-1 shadow-none" type="button"
                                            (click)="this.formulario.reset()">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>
    </div>
</div>